# 杂谈-02-面试和求职


[TOC]




## 更新
* 2022/06/15，撰写
* 2022/06/20，小红书面试挂


## 面试资料

* [Java 全栈知识体系](https://pdai.tech/)
* [PassJava 学习教程 | 悟空聊架构](http://www.passjava.cn/#/)
* [toBeBetterJavaer](https://github.com/itwanger/toBeBetterJavaer)
* [learn.lianglianglee.com](https://learn.lianglianglee.com/)



## 公司汇总
* [上海牛逼的互联网公司基本都在这了 | 知乎](https://zhuanlan.zhihu.com/p/425616415)

## 国内允许远程办公的公司
* [国内允许远程办公的公司有哪些 | 知乎](https://www.zhihu.com/question/21274834/answer/2447790447)

1. GitLab
2. Tubi


## 简历模板
* [超级简历 | 在线模板](https://www.wondercv.com/)
* [戴天宇 | 简历参考](http://resume.dtysky.moe/)


## 招聘平台
* 智联招聘
* Boss直聘
* 拉勾网
* 猎聘
* 脉脉
* 国聘（国企）：https://www.iguopin.com/
* 国资小新（国企）
* 事业单位考试网（国企）：http://www.chinasydw.org/


## 互联网公司基本信息



### 职级

* [互联网大厂各职级薪资对应关系图（2020 年 5 月）](https://zhuanlan.zhihu.com/p/110443296)

### 冷冻期
1. 小红书：半年，2022-06一面挂
2. 华为：笔试半年冷冻期，20220-07，笔试未通过







## 京东项目简历

> 背调：HR 王欣，15000508750



### 一体化营销选品

#### 项目架构设计

![](https://image-bed-20181207-1257458714.cos.ap-shanghai.myqcloud.com/back-end-2022/jd-yth-module-1.png)



#### CK技术选型

此处以京东店铺赛马和一体化营销选品项目为例，阐述为什么赛马选择 ES + Hbase 的方案，营销选品选择 CK 方案。营销选品项目的功能划分如上图所示。



从业务角度考虑，有如下选型参考

1. 实时查询和非实时查询
   * 营销选品项目要进行实时查询，而 CK 性能较高，适合实时查询
   * 店铺赛马进行的是离线非实时查询（计算频率 24H），而 Hbase 适合存储大量的离线数据
2. 是否涉及到全文检索
   * 营销选品项目不涉及全文检索，可以使用 CK
   * 店铺赛马项目涉及到了全文检索，而 CK 是列式数据库，无法像 ES 一样提供全文检索功能。ES 适合用于全文检索
3. 营销选品项目涉及的筛选字段变更较大，利用「自定义规则和规则解析」，可以生成动态 SQL 查询。CK 对 SQL 语法支持较好，比 ES 的 DSL 更加简单，学习成本更低。
4. 营销选品项目涉及「小时级更新」和「数据分区」，这方面 CK 比较擅长。详情见下面「技术角度」的第 4 点和第 5 点

从技术角度考虑，有如下选型参考

1. CK 适合实时查询，Clickhouse 索引的特点为「排序索引（CK 中采用了 MergeTree 引擎（合并树引擎），存储的数据按主键排序）」+「稀疏索引」+「列式存储」，因此相应的 Clickhouse 最合适的场景就是 **「基于排序字段的范围过滤后的聚合查询」**。
2. ES+ Hbase 用来处理离线数据
3. CK 不适合做全文搜索，而 ES 适合全文搜索
4. CK 使用了 MergeTree 引擎（合并树引擎）被设计用于插入极大量的数据到一张表当中。数据可以以「数据片段（Data Part）」的形式一个接着一个的快速写入，数据片段在后台按照一定的规则进行合并。相比在插入时不断修改（重写）已存储的数据，这种策略会高效很多。营销选品项目中，底表更新频率快，如小时级更新吗，要做到在一小时内写入千万级的数据。基于 CK 的「数据片段（Data Part）」特点，适合小时级的数据更新。
5. CK 中 MergeTree 引擎，如果指定了「分区键」的话，可以使用分区。在相同数据集和相同结果集的情况下，CK 中某些带分区的操作会比普通操作更快。查询中指定了分区键时 CK 会自动截取分区数据，这也有效增加了查询性能。营销选品项目涉及「数据分区」，这方面 CK 比较擅长。




#### 计算模块

计算模块主要处理 3 部分工作
1. 打分计算并排序
   * 单一指标：直接取表中字段，进行过滤盒筛选
   * 综合指标：取出表中字段，根据配置的权重值算出得分，最后对得分进行归一化（抹平不同指标值大小的差异，归一化到 [0,1] 区间）
2. 干预
   * 人工干预置顶
   * 白名单和黑名单
3. 打散
   * 打散模块中的打散用于保证商品的多样性。比如用户搜索「手表」，可能匹配的前 10 个都是卡西欧手表，这个时候可以对结果进行打散，按照店铺维度（如卡西欧、小米、天王表）或者按照功能维度（如机械表、电子表）。
   * 采用平衡打散思想，在一个滑动窗口内，若连续出现3个同类品牌或者不连续出现5个同类品牌，将其剔除


针对大量数据（10W条）的计算，采用如下优化手段
1. 类名精简，字段压缩
   * 数据通过 RPC 调用获取，要想尽办法，减少传输的数据大小
   * 比如对类名精简，对字段名称压缩，传统开发中，对字段命令尽可能做到“见名知意”，此处采用简单的 `a`、`b`、`c` 进行命名
2. 多线程并行流计算
   * 多线程并行计算，采用并行流（`parallelStream`）进行计算，`parallelStream` 是使用线程池 `ForkJoin` 来调度的，其思想大体同 MapReduce。
   * 并行流计算中，比如针对 10W 条数据，起 10 个线程，每个线程计算和排序 1W 条数据。
   * 最后再进行汇总，采用类似归并排序的思想，可以将时间复杂度做到 `O(NlogN)`


#### 动态SQL

动态 SQL 方案中，在 CMS 端配置筛选规则，然后进行规则解析，动态拼接成 SQL 查询语句。

#### 数据生成-空间换时间

在小时维度更新底表时，每小时更新都会生成在表中生成一个新的分区。比如每次都是 5KW 的数据，会全量写入一次。

有没有考虑过后续插入时候，只写入更新过的数据？（增量更新）
1. 增量更新会增加代码的复杂度，涉及到如何判断哪些数据

### 素材组展示数量不等于存储数量

1. 一个普通商品组的分期下，默认最大支持存储 500 个商品，默认展示数量为 100。
2. 一个扩容商品组的分期下，默认最大支持存储 2000 个商品，默认展示数量为 500。
3. 一个素材池商品组，只存储一个池 ID，从算法侧拉取数据，默认截取前 1000 个商品。

为什么展示数量，不等于存储数量？
1. 存储数量要大于展示数量，是为了给算法同步过去足够的数据，方便算法侧排序。
2. 展示数量较小，因为促销落地页下用户深翻页的并不多，可能最多浏览前 00 个商品。促销落地页业务场景中，不涉及无限下拉 feed 流。



### 素材组分表

1. 水平分表，将商品组ID求hashCode，按照100取模，水平分表了100张表。
2. 每张表数据大约 700W 条，会定期清理不要的商品数据
3. 目前尚未分库 ！！！（面试回答时候更新为按照素材组ID，对100取模，水平分库100个库）

> **注意，连接数是针对库的，不是针对表的。只分表不分库，无法解决最大连接数问题。**
> 
> **<font color='red'>分表仅仅是解决了单一表数据过大的问题，但由于表的数据还是在同一台机器上，其实对于提升 MySQL 并发能力没有什么意义，所以水平拆分最好分库。</font>**




### 素材组缓存的key维度


Redis 中缓存的 Key 由以下信息组成
1. 固定前缀 `CACHE_PREFIX = material_product_`
2. 商品组ID，groupId
3. 商品组场次ID，stageId
4. 是否预览标识（影响的算法不一样）
5. 特征查询参数（Attributes参数）


```java
String jsonKey = CACHE_PREFIX + "gs_pro_list_" + groupId + "_" + stageId + (isPreview ? "_pw" : "");
//缓存key上附加上查询特征的值
Map<String, Set<String>> attributes = addParam.getAttributes();
if (attributes != null && CollectionUtils.isNotEmpty(attributes.get(groupId))) {
   Set<String> attributeSet = attributes.get(groupId);
	jsonKey = jsonKey + "_" + StringUtils.join(attributeSet, "_");
}
```


在上述实情的基础上，个人做如下改进，缓存 key 维度添加如下信息
1. 地理位置参数（网格ID，不是具体的经纬度），认为一个网格ID下，对应服务信息相同，同一个网格ID下，响应数据相同。
2. 用户 pin 信息
3. 缓存超期时间是 30s。
4. 缓存是截取前100个展示后的信息，**但是不包含算法排序。**（为什么不包含算法排序？因为若包含算法排序，则缓存前100个商品是针对当前用户的前100，而不是运营想要推广的前100个。此情况下，每次请求进来都会请求算法）



下面描述下一次请求在有缓存下的过程
1. 一次请求进来，根据「商品组ID + 场次ID」先去匹配，若 Redis 有缓存，则走缓存数据处理逻辑。
2. 继续，匹配「用户pin + 地理网格参数ID」，若符合，则只请求算法进行个性化推荐。
3. 若第2步未匹配，则匹配「地理网格参数ID」，若匹配，则只需要处理和用户pin相关的请求。
4. 若第3步未匹配，则匹配「用户pin」，若匹配，则只需要处理和地理网格参数ID有关的请求。（此情况出现较少，因为很少会有同一个用户，在30s缓存过期时间内，去访问两个地理位置参数不同的场景。在测试测试情况会出现这种情况，即 mock 参数请求）




### 素材组缓存数据大小


如下为两个商品响应数据的 JSON 文件，在 JSON 未换行压缩时大小为 8 KB，换行压缩时大小为 6 KB。所以粗略认为一个商品相应数据为 3 KB。

因此有如下结论
1. 一个普通商品组，默认按照 100 个商品，则 Redis 缓存大小为 3KB * 100 = 300 KB。
2. 一个扩容商品组，按照 500 个商品，则 Redis 缓存大小为 3KB * 500 = 1500 KB，大约 1.46 MB。
3. 一个池类型的商品组，按照 1000 个商品，则 Redis 缓存大小为  3KB * 1000 = 3000 KB，大约为 2.92 MB。





### 选品中的排序和算法排序

1. 选品中的排序，反映的是运营的意志和策略。算法的排序，反映的用户画像维度的偏好。所以，两种排序，是两个维度，缺一不可。（如果全部是算法排序，只反应用户喜好，那么京东自营的一些爆款商品、商家付费推广的一些商品会得不到曝光和流量）
2. 算法的排序，是基于选品排序的数据。选品选出的商品数据，会以 MQ 方式同步至算法侧。算法侧是在 MQ 中的商品数据中进行个性化排序。
3. 算法不能代替投放侧的排序，其局限性表现在
   * 算法侧不能反映的运营的意志和策略
   * 算法侧是在选品选出的商品数据中推荐
   * 算法侧不能推荐京东自营的一些爆款商品、商家付费推广的一些商品
   * 算法侧不能人工手动置顶
   * 算法侧不能进行黑白名单过滤



## 面试指南

### 职业规划

> 比如在京东做的营销投放平台，找的下一份工作还是营销方向
1. 个人会在技术方向上深耕和深入，成长为技术专家。此外，我上一份工作是营销投放的方向，现在面试的岗位依旧是营销方向，在这个方向上，自己有一定的经验，可以很好的适应这个方向，上手较快。
2. 此外，个人也愿意在接下来的几年时间，在营销方向，在这个领域继续深入和学习，成长为这个方向的专家，深耕该领域。这样我也会有一个沉淀和长期积累。



## 2022-06求职简历


### 背调

* HR 王欣，15000508750，021-22255597，wangxin53@jd.com
* 吴骏宇，15921554310，wujunyu@jd.com
* 肖宁，18602127029


### 简历关键字
* 流程编排
* 动态线程池
* 设计模式、策略模式、责任链模式
* CK 深翻页 → ES Scroll Scan → RedisSearch + RedisJson


### 教育经历
* 上海交通大学，硕士，数学建模竞赛全国二等奖，2015/09 ~ 2018/03
* 东南大学，学士，北斗杯科技竞赛全国一等奖 | 电子设计竞赛江苏省一等奖，2011/09 ~ 2015/06




### 专业技能
* Java 基础扎实，理解多线程、集合等基础框架，对 JVM 原理有一定的了解
* 掌握 Spring、Spring Boot，了解其原理
* 掌握 MySQL、Mybatis，了解 MySQL 的锁、事务、版本链
* 掌握 Redis，了解 Redis 数据结构的底层实现、分布式锁
* 掌握 Elasticsearch，对深翻页有一定的了解，进行过相关优化
* 使用过 Spark、Hive、Hbase、Clickhouse，进行过大数据方面的开发
* 使用过 JavaScript、React，开发过前端项目
* 使用过 Objective-C、React Native，开发过 iOS 和 Hybird 客户端项目
* 掘金技术博客（10W+ 阅读量）：https://juejin.cn/user/4406498334093895




### 工作经历

> 京东零售（北京沃东天骏信息技术有限公司上海分公司） | 营销投放平台 | 后台开发工程师

营销投放平台作为京东零售营销的标准平台和统一入口，是集素材（商品、广告、优惠券、素材池）管理、定向投放、BI 排序、场景化流量运营、数据看板于一体的解决方案。
* 负责该平台的开发和维护，参与素材中心配置端 Low Code 方案改造和实时端的策略模式改造
* 独立负责社区团购模块的开发，采用流程编排思想对业务逻辑进行拆分，对现有素材投放能力进行复用，保证业务快速交付
* 独立负责店铺赛马模块的开发，对店铺点击率、成交量、上新数、关注数等指标量化计算、打分、排序，筛选出优质好店和高潜店铺，并在大促店铺品牌墙中给予流量展示和营销
* 负责一体化营销选品模块的开发，对底池数据查询的技术方案和性能进行了相关优化

> 京东集团-京东零售-平台业务中心-平台业务研发部-应用业务产品研发部-平台营销工具技术组

### 项目经验

#### 素材中心改版

> 项目描述

素材中心可对营销素材（商品、广告、优惠券、素材池等）进行管理、定向投放、BI 排序。

> 责任描述
* 参与素材中心配置端 Low Code 方案改造，负责素材中心实时端的策略模式重构，大大提升了新素材类型接入的效率
* 基于第三方轻量级编排工具（LiteFlow）和京东自研的异步并发开发框架（Sirector），对素材信息的请求过程进行流程编排改造，对复杂逻辑解耦，按业务最小粒度实现一个个组件，如价格请求组件、库存请求组件。根据不同的业务场景，在配置中心流式化编排任务处理过程，保证灵活和高效，并快速赋能社区团购（京喜拼拼）业务
* 调研并落地动态配置线程池参数方案，通过动态调配参数，减少了线程池拒绝异常的发生，较为平稳地抗住了年货节晚八点红包的流量洪峰（30W QPS）

#### 店铺赛马

> 项目描述

对店铺点击率、成交量、上新数、关注数等指标进行量化，根据配置的流量规则，进行加权计算、归一化打分、排序，筛选出优质好店和高潜店铺，并在大促店铺品牌墙中给予流量展示和营销。


> 责任描述
* 开发店铺底池数据，使用 Hbase 和 Elasticsearch 进行存储
* 使用责任链模式对赛马流程重构，规范化业务流程
* 对618/双11大促场景下的高并发调用，通过定时任务对店铺素材数据进行预热，结合京东自研的热 key 探测工具（JdHotkey），使用 Redis 缓存和 Caffeine 本地缓存，保证 20W QPS 业务诉求



#### 一体化营销选品

> 项目描述


一体化营销选品项目中，可通过人工筛选或定时圈选的方式，在素材池中筛选出所需商品、广告等素材信息，根据配置的运营规则进行计算、筛选和排序，并提供一体化的营销投放解决方案。

> 责任描述

* 开发选品底池数据，使用 Clickhouse 进行存储
* 负责素材查询功能的开发，针对千万级数据查询的场景，对技术方案和性能进行了相关优化，使用 Elasticsearch Scroll Scan 对数据查询中的深翻页进行了优化，结合 Hbase，将千万级数据中查询 10W 数据的耗时，从 8~12s 优化至 3~6s




### 自我评价
* 本人沉稳，做事认真负责，有较强的责任心，待人热情真诚，具备良好的人际交往和沟通能力
* 本人有较强的学习能力，乐于思考和总结，有实际的技术博客输出，掘金博客 LV3 用户，10W+ 阅读量







## 2022-06求职记录


### 面试记录
1. 小红书，一面挂（归并排序写错了，积分系统设计回答的不好），小红书半年冷冻期
2. 东方财富，一面挂，面试了20分钟
3. B站，二面挂（如何不使用配置中心去实现配置中心的功能，其实问的就是配置中心的底层实现）
4. 蔚来，二面挂（APM tracID ，mysql 编码  日期的三种格式）




### 面试技术问题答疑汇总


> 1. JSF 是基于dubbo吗，还是thrift
* JSF 是基于 dubbo 二次开发

> 2. RPC是使用长连接还是短连接
* 长连接
* RPC 使用 TCP 协议时候，也是要三次握手创建连接，在使用长连接时候，可以进行复用，省去了第二次创建连接的三次握手

> 3. 营销选品平台，如何衡量你们的工作成果？订单转化率，曝光量这些，有一部分也是 BI 的功劳吧？
* 投放和BI是一个合作共赢的关系
* 回答时突出项目的重点部分在自己，BI 只是占比很低的一部分

> 4. 京东的 DUCC 配置更新了，服务端是进行监听获取更新，还是配置中心 push 给服务端
* Ducc 中为服务端长轮询监听配置中心的内容，并且 ducc 配置中心是全量推送内容。
* 携程的阿波罗配置平台，可以做到增量更新。 
* zookeeper 采用了一种轻量级的 wacth，用了一种推拉结合的模式。一旦服务端感知主题变了，那么只会发送一个事件类型和节点信息给关注的客户端，而不会包括具体的变更内容，所以事件本身是轻量级的，这就是推的部分。然后，收到变更通知的客户端需要自己去拉变更的数据，这就是拉的部分。

> 5. 动态调整线程池期间，会对线程运行有啥影响吗
* 不会
* 线程池管理线程是通过 `worker` 线程。并且诸如 `setCorePoolSize` 方法，线程池创建时调用和运行时调用，并无本质区别。该方法会把传入的参数值，和当前线程池现有的核心线程数数值，进行作差比较，只是创建时的初始值为 0 而已。  
* 线程最大个数和内存有关，和 CPU 核数无关。CPU 核数是和线程的运行效率有关。

### B站
* 资深golang开发（主站增值）
* 6.14 周一面试

> 6.14一面（两天后6.15通知二面）

1. 项目介绍
2. java多线程如何保证线程安全（锁、final 、cas 乐观锁 自旋锁、copy on wrte）
3. spring中如何管理线程池（ThreadPoolTaskExecutor】
4. spring如何使用池化思想管理sql连接 + mybatis中池化思想 + 一级缓存二级缓存
5. Redis的数据结构  排行榜 zset  bitmap 统计日活
6. redis的zset的底层数据实现
7. 流程编排如何动态配置的，有没有了解过规则解析引擎
8.  mysql事务管理 +  undo日志
9.  mysql主从复制 
10. 雪花算法
11. 如何应对大促请求量（不依赖框架如何做限流，降级等）
12. 线程池动态参数配置
13. 编程题：2个数组  取出中位数 (https://leetcode.cn/problems/median-of-two-sorted-arrays/ leetcode hard)



> 6.20 二面
1. 面试官有事情，改为了电话面试，面试时长 30min
2. 没问技术，全程问项目，业务负责人面试
3. 项目中的难点是什么
4. 你在项目中起的角色
5. 如果不使用配置中心，如何实现动态化调整（MQ，接口，读本地表）。面试官提示说修改Redis缓存
6. 为什么出来看机会


> 主站增值业务了解
1. B站将收入分为四部分：手机游戏、增值服务、广告、电商和其他。2020年四季度，增值服务收入占比 33%，游戏业务收入 29%，广告业务收入、电商及其他业务收入分别占比 19%。
2. 增值服务以 12.5 亿元的营收占据了 33% 的收入，首次超过游戏收入，成为最大收入来源。
3. B 站的增值服务主要包括大会员、直播及其他服务，其中每年收费 168 元的大会员是重中之重。过去几年，这块业务的收入占比稳步提升；2020 年第四季度首次超越游戏，成为 B 站最重要的收入来源。需要指出的是，增值服务包含直播收入，但不止是直播。


### 小红书

* 职位描述

```s
电商后端开发-商业后台组（上海）
上海
小红书
职位描述
工作职责：1.小红书电商生态治理的系统的设计和开发工作； 2. 深入理解业务, 与业务一起对小红书电商的生态质量负责； 3.主导架构设计及核心开发工作, 解决客户和平台问题。
任职要求：1. 熟练使用Java，要求基本功扎实，深入了解原理； 2. 熟练使用各种常用开源框架、中间件和数据库。如:Spring、缓存、消息队列、RPC、Mysql/MongoDB等； 3. 熟悉微服务架构理念以及实现技术； 4. 积极主动，能独立分析问题, 善于研究业务, 分析产品； 5. 为人踏实, 善良正直, 热爱学习技术, 长期关注技术的发展趋势; 6. github 与 stackoverflow 贡献者优先，对开源社区有贡献者优先。
```



* 6月15 周三  一面



> 一面 
1. 手写算法 归并排序和快速排序
2. 分布式任务
3. 如何实现幂等
4. 分布式锁
5. 线程池，动态调整线程池对现有线程状态有啥影响
6. 流程编排，可以动态注入一个类吗？
7. 如何实现热更新，热加载，动态注入一个类
8. 如何设计一个积分系统


### 东方财富
* 猎头-陈震-东方财富-中欧基金
* 证券研发部，300人+，自研率80%，互联网风格
* 第一轮为 HR 面试，10~15min，了解下匹配程度，意向，稳定性，为什么换工作，对东方财富有什么了解
* 需要做上机考试，有选择，填空，编程等
* 后面为三轮技术面，前2轮为技术面，最后一轮为总监高管面。面试过程中，会结合项目去问技术


> 为什么考虑东方财富

猎头和我介绍了东财，自己也去了解了一下，东财是互联网金融，是 A 股首家上市的互联网公司，技术这块和互联网大厂比较相近，自己对于技术这块还是比较有追求的，也是希望来到这边可以有一个精进，而且国家也是一直提倡科技带动金融发展，自己也是看好金融赛道，虽然之前没有金融背景，但是相信如果可以进入东财，业务方面也是可以快速熟悉起来

公司旗下拥有财经门户“东方财富网”、互联网基金销售平台“天天基金”、中国人气股票基金交流社区“股吧”以及证券、基金、期货等金融类牌照。公司构建以“东方财富网”为核心的互联网财富管理生态圈聚集了海量用户资源和用户黏性优势，为公司进一步拓展业务领域、完善服务链条奠定了坚实基础。



> 6.16 技术一面

1. 项目介绍
2. RPC调用的理解
3. HTTP的三次握手，RPC底层是长连接还是短连接，有握手的概念吗
4. RPC是长连接还是短连接



### 蔚来

* 6.17 技术一面（当天下午通知结果）

> 6.17 技术一面
1. 项目介绍
2. MySQL Explain
3. TreadLocalMap （key是什么，如何父子继承）
4. MQ 的了解
5. RPC 为什么比 HTTP 快，基于什么协议，是否有握手
6. 编程题（多线程打印ABC  + 跳石板斐波那契额数列）
7. 项目的难点，成果是什么（订单转化率，如果有 BI 如何衡量）



> 蔚来业务背景和发展特点
1. 服务，成熟的社群体系
2. 生态，提供汽车周边服务产品，如车枕
3. 换电和电池租赁
4. 口碑，新车主很大一部分比例来自老客户的介绍
5. 客户忠诚度


> 6.21 周二上午11点 二面

1. APM traceID 如何设置
2. 传递uuid 在head中传递
3. MySQL 时间格式 Date DateTime  TimeStamp 区别
4. MySQL  编码 utf8mb4  有啥坑点
5. 孤岛问题 （https://leetcode.cn/problems/ZL6zAn/）




### PDD

https://careers.pinduoduo.com/jobs/detail?code=T012305



高级/资深Java开发工程师（多多买菜/仓储/配送/供应链方向）
技术类上海若干
岗位职责
1、负责仓储供应链基础功能的研发；

2、学习理解能力强，有能力主导系统的分析，架构设计，核心功能开发；

3、对系统稳定性和潜在问题高度敏感，主动发现潜在风险，并积极推动落地解决；

4、较好的代码规范和文档规范，保证项目的进度和质量。

任职要求
1、计算机软件或相关专业本科及以上学历，5年以上分布式系统开发经验；

2、Java基础扎实，理解并发，IO，对JVM原理和调优有一定的经验；

3、熟悉web开发常用开发框架和工具，spring，spring boot，数据库，缓存，ES，flink等，有较强的编程能力和编程经验；

4、熟悉分布式系统的设计和应用，有高并发系统的开发和调优经验，有长期线上系统稳定性治理和维护的经验；

5、对技术有强烈的兴趣，学习能力强，具备较好的沟通能力，对线上系统能保持敬畏之心。

加分项
有主导大型项目开发经验者优先。



> pdd 2 面 07-06
1. 项目设计
2. Redis缓存和本地缓存，如何设计
3. Caffeine的淘汰策略有哪些，如何自己设计一个Caffeine框架
4. Redis 渐进式rehash
5. MySQL MVCC 和隔离级别
6. 分布式锁
7. Spring 循环依赖
8. TCP 的keepAlive 和 HTTP 的keep-alive 什么区别
9. ZK 脑裂问题
10. MySQL 主从架构
11. 数据库分库分表，水平分表 要分库吗
12. ES数据，每小时导入5000W条，增量更新和全量更新，如果有数据重复，如何做到增量更新（所有字段求个MD5，然后布隆过滤器）
13. 算法：4. 寻找两个正序数组的中位数（leetcode 第4题 ）


> pdd 3 面 07-12
1. 算法题（1.二叉树的最近公共祖先  2. 大数翻转）
2. 项目介绍
3. 职业发展



#### HR面

四个关键字两点
1. 学历，双985
2. 稳定性
3. 可尽快入职
4. 绩效表现，可查银行流水



#### HR 面试

> 为什么期望30~50%的涨幅

换工作最重要的是做的事情合适。因为只有核心工作内容对标才能够发挥更大的价值。
本地生活这边团队做的事情和我是非常匹配的。我过来能够发挥最大的价值，是能够在业务上给到一些输入的。
并且过往几年在京东，绩效一直比较出色，4年有过3次晋升。但是由于京东内部调薪比较少，所以目前薪酬是低于市场水平的。
所以30%-50%的涨幅应该是相对比较合理的哈，期望能够达到预期，能够更好的全力投入工作中哈


要展示自己的优势，让HR觉得给超出预期的涨幅是值得的，合理的

你可以在这个思路上看下


而且最核心的是你是真心想加入阿里本地生活团队的，只有你真的想加入，HR才更愿意帮你争取薪酬









> 连松二面面经

1. 远程面试 35 min
2. 挨个问项目，重点讲一个从0到1的项目？遇到的问题，如何解决
3. 在团队中担当的角色
4. 如何看待敏捷
5. 在团队中做过的最有亮点的一件事？
6. 为什么跳槽
7. 算法题：整数翻转（大数溢出，leetcode 第7题 https://leetcode.cn/problems/reverse-integer/）



> 朱家祥 三面面经（智能客服）

1. 本地内存
2. 高可用 稳定性
3. 布隆过滤器
4. B+树
5. 滑动窗口最大值
--------
1. 数据库流程 explain原理
2. redis内存淘汰 缓存失效
3. 三数乘积最大值  + 合并区间
---------
1. 吹项目  + 打印 1~n位数的所有值


### 蚂蚁集团


蚂蚁集团-共享智能Java/Go技术专家-上海/杭州/北京
北京、上海、杭州市
蚂蚁金服
职位描述
工作职责：数据是数字时代最重要的生产要素，想要跨越机构间的壁垒，形成更广泛的数据协同，则需要解决跨机构数据协同过程中的隐私泄露和数据滥用问题。共享智能团队在隐私计算方向已经有多年的探索和积累，目标是打造未来数据协同网络的基础设施，涉及的学科知识包括：机器学习算法和框架，分布式系统，云原生，多方安全计算，可信计算等。岗位描述：打造数据协同的隐私计算网络，解决跨机构分布式计算场景下的资源管理，任务调度，网络通讯等问题，让隐私计算网络成为未来跨机构数据协同的基础设施。
任职要求：1、熟练掌握Java/Go语言中的一种，理解Java(or Go)核心特性原理。如：JVM，多线程，协程，GC等； 2、卓越的工程能力。熟悉敏捷开发，设计模式等。对代码质量有追求； 3、良好的学习和沟通能力，有责任心，有钻研精神； 4、符合以下条件者优先：（1）熟悉K8S，有K8S二次开发经验者，或者对K8S调度原理有深入了解（2）熟练使用Spring/SpringMVC/SpringBoot框架，理解AOP、IOC等基本原理，熟悉Spring框架部分功能的实现细节；（3）有业界主流分布式中间件使用经历（如：etcd、dubbo、redis、kafka等），并了解其原理和实现细节；（4）有分布式系统经验者，熟悉Hadoop/Spark/Flink/Storm/HBase等大数据技术者。



### 银联数据


工资薪水

以下数据来自 BOSS 直聘（https://www.zhipin.com/gongsir/25720c15e4f1ce3703d63ty-.html?ka=all-jobs-hot）


1. Java 开发  20~35K （3~5年）
2. Java 开发  25~50K （5~10年）
3. Java 架构师，20K~40K



#### HR面试咨询
1. 是正式编制吗？？ 和校招进去有啥区别 ！！！！
2. 加班下班打车是否有报销
3. 是否需要子公司轮岗
4. 年终奖月份多少，保底多少
5. 对于服务满一年以上的员工是提供补充养老和补充医疗保险的？？？
6. 绩效考核？？工资是浮动的吗
7. 每月餐贴（600元/月）？？
8. 补充公积金 + 5%
9. 打卡考勤吗  如何调休 如何年假
10. 补充医疗 + 5%
11. 养老8% + 医疗2% + 失业0.5% + 公积金7% = 17.5%
12. 企业年金 （个人 2~4% + 公司 8%）
13. 节假日慰问金（一年几千块钱）
14. 银联数据是银联的子公司
15. 年终奖几月发放？？
16. 有加班费吗？加班下班打车是否有报销
17. 升职和加薪频率

> **入职调查表已经写了 3.31 离职了。**


1. 补充公积金 + 5%
2. 补充医疗 + 5%
3. 企业年金 （个人 2~4% + 公司 8%）
4. 节假日慰问金（一年几千块钱）
5. 银联数据是银联的子公司





#### 银联数据面试经历

1. 6月25日，技术面试
2. 7月4号，上机笔试
3. 7月6号，部门领导面试


### 上交所技术
Java 20~40K 3~5年
岗位描述见Boos直聘（微信收藏）

### 阿里本地生活

#### 岗位描述

https://talent.alibaba.com/off-campus/position-detail?positionId=680025&track_id=SSP1658209905855WEQzIAigMT4921


职位描述

1、负责本地生活交易、营销、金融、商业能力等平台的技术管理和研发工作，深入挖掘业务需求，独挡一面，包括需求分析、架构设计和代码实现，在业务领域内带领团队拿到优秀结果；

2、将复杂业务抽象、总结沉淀为技术平台能力，对业务进行前瞻性判断，对现存或者未来系统进行宏观的深度思考，系统化通过技术解决业务问题；

3、持续优化系统架构，提高系统在高并发、大流量下的容灾容错能力，保证系统的高可用性（性能、安全、容量）；

4、对工程师技术文化身体力行，让团队成员在你的影响下取得成长，未团队引入创新技术、创新的解决方案，用创新思路解决问题。


职位要求

1、精通web编程、java基础扎实，熟练掌握spring、mybatis、mysql以及java中间件等；

2、8年以上开发，5年以上复杂业务系统架构，线上优化经验，有互联网电商或者金融级交易架构经验者优先；

3、对本地生活或者电商行业有深入理解，优秀的沟通和团队协作能力，能够在复杂局面下带领团队分阶段拿到最佳结果。有在国内外一线互联网公司担任核心技术架构师或者技术管理者优先；

4、有良好的技术远景、有技术布道能力，有开源项目、技术分享经验者优先；

5、我们希望你对本地生活、新零售等方向充满兴趣，致力于通过技术改变传统行业，服务广大消费者和商家


#### 面经

> 07-08，技术一面
1. 电话面试 1H
2. 项目介绍，结合涉及的技术点，问答
   * 项目划分
   * 架构划分
3. MySQL 分库分表
4. 本地缓存 Caffeine的原理
5. 算法排序和运营排序
6. Redis 缓存  key-value，如果value过大怎么处理的
7. 一个商品组 8K个商品 全部放到缓存有什么问题
8. 异地多活了解吗
9. 异地多活下，Redis 有跨异地的数据同步吗（没有）
10. 异地多活下，同机房优先策略

> 07-12 技术终面 + HR面
1. 视频面试 1.5H（技术面1H，HR半小时不到）
2. 工作4年了，每年或者每个阶段有什么成长
   * 第1阶段，18~19年，主要是完成业务开发，熟悉业务和技术储备
   * 第2阶段，19~21年，参与技术方案的制定，功能模块的划分，提出自己的见解
   * 第3阶段，21~22年，对现有技术方案优化改造（结合项目中的ES优化，存储数据库从Hbase迁移到CK，以及为什么这样优化）
3. 项目介绍，结合涉及的技术点
   * 项目业务流程
   * 机房如何部署的，有没有多机房，异地多活
   * 架构怎么划分
   * 数据库怎么分库分表的， MQ 怎么使用的
4. 技术点
   * RPC的流程
   * RPC的协议，让你去设计个RPC协议 怎么设计，比如TCP的报文，Dubbo 3 的dubbo协议了解吗
   * MySQL的乐观锁的实现思想（1. 时间戳+版本号；2. CAS；3. CAS的ABA问题怎么解决）
   * Java的 AQS 了解吗（回答的不好，我回答的很浅显，后面我说AQS我理解的比较少，不过 ReentrantLock、Semaphore、CountDownLatch 倒是使用了解过，对方也没再问）
5. 设计模式
   * 三大类设计模式什么区别
   * 常用的设计模式
   * 责任链模式咋回事
   * Spring 中使用到的设计模式
6. 目前在团队中扮演的啥角色
7. 职业规划和发展
8. --技术面结束---
9. HR面
   * 为啥跳槽
   * 4月份离职了 期间为啥一直没找工作（实话实说）
   * 薪资期望



----OFFER审批----
1. 公积金7%
2. 餐补中午25，打到卡上。晚饭25的餐券
3. 9点之后打车报销
4. 全薪病假 + 陪伴假
5. 补充医疗



### 华为

账号注册信息
1. lbs1209@163.com
2. 手机号：17811951912（副卡1）



### 阅文


#### 面经

1. 07-08，周五下午2点，一面，电话面试，40min
2. 07-11，周一下午通知约二面
3. 07-13，周三下午2点，二面


#### 薪资待遇
1. 职级：5-3





### 字节-抖音本地生活（三面挂）



#### 岗位描述


生活服务业务依托于抖音，抖音极速版，促进用户与本地服务的连接，让更多用户发现线下好去处，帮助本地商家拓展经营阵地。平台治理致力于打造更好的生活服务生态，提升商户，内容，服务的质量，营造公平合理的经营环境。 
1、负责生活服务平台治理相关的后台研发工作，完成各个系统的架构设计和开发工作，支撑业务快速迭代，保证服务质量；
2、持续迭代和优化系统，提升性能，可用性以及扩展性；
3、深入与产品形成协同，将技术应用到业务场景； 
4、推动技术与产品创新，达成业务目标。



1、计算机相关专业本科以上学历，深入理解计算机原理，有扎实的数据结构和算法基础； 
2、深入理解Linux系统及其原理，熟悉TCP/IP、HTTP协议以及网络编程；深刻理解面向对象开发，具有较好的系统分析设计能力；
3、优秀的代码和工程架构能力，良好的文档习惯，有中到大型系统的设计和性能优化能力；
4、精通Linux平台上的Java/Go/C/C++/Python等至少一门语言；
5、熟练使用MySQL/Redis/ES等常用存储技术，消息中间件和其他分布式系统中间件，并熟悉其工作原理和优化方法； 
6、具有较强的业务需求分析能力、问题定位能力，能够高效沟通；具备较强的学习能力和主动性，有饱满的工作热情，勇于挑战；


####  面经


> 啸天面经


2022 年，从3月12至今4月18日，字节跳动从国际化电商1-3 面，生活服务治理1-2 面，抖音电商1面，依次挂了。面试过程经历和学习了很多，面试官有一部分原因自己也有一部分原因，能做的就是发现自己的不足和需要改进的点，总结一下。
项目方面，选品一体化架构，为什么存es，为什么选ck，提到的定时任务来不及做的优化，异步导致数据最终不一致（？），为什么最终数据存es，es的refresh等等是重灾区。
八股方面，redis分布式锁，redis数据结构，redis实现消息队列  这些不太会，redis需要深入理解一下。es倒排索引，持久化等以及ck为什么快，适合什么场景的，需要加强。举一反三，spark这块可能也需要学习，因为大数据处理也在项目中体现了。一些java基础知识，双亲委派机制何时打破，为什么打破；threadlocal；AQS；锁是否可重入、可中断都有所考察。
算法方面，因为都刷过，面试都过了，但是还要继续刷。




> 6.21 下午8点一面

1. 双亲委派 以及如何打破 loadclass
2. 分布式限流 你如何实现 （本地计数 redis统计 如何设计key  带时间戳，自动过期）
3. volatile的内存语义
4. es的 flush  refresh
5. redis的渐进式哈希
6. 项目介绍
7. mysql的事务隔离级别
8. 幻读  mysql如何解决   mvcc 和readview  间隙锁
9. mysql 索引 一级索引 二级索引 有啥区别
10. redis 跳跃表
11. ck为什么快
12. es 如何实现跳页  mysql游标   es 游标  scroll为啥不能实现跳页


> 6.28 下午3点二面

1. 项目介绍
2. 结合项目问技术
3. 算法题：反转链表

> 7.04 下午3点二面（挂）
1. 项目介绍（如何衡量你的成果，跟个性化推荐怎么衡量）
2. ES导数，每天生成一个还是每小时生成一个？五六千万数据全量更新吗？ 如何避免数据全量更新
3. 索引为什么用B+树，不用红黑树
4. 操作系统，页缺失
5. ConcurrentHashMap如何保证线程安全
6. 算法1 - 写 SQL，按照学生维度（group by），统计下不及格的学科数目
7. 算法2 - leetcode 下一个排列 https://leetcode.cn/problems/next-permutation/



#### 三面挂原因分析
1. 约的晚8点，面试官推迟到晚9点才面试，面试官比较着急赶时间
2. 自己项目准备不足，对算法排序和投放排序的取舍以及如何衡量产出，表达不清楚，缺乏思考和总结
3. 算法写 SQL，第一次遇到，有点懵逼
4. 面试紧张，脑子短路，比如红黑树和B+树的区别，红黑树是二叉树，B+树是多路树，紧张的说不出来




### 字节-TickTock电商推荐


#### 岗位描述


> 团队定位

咱们这个团队定位主要是负责抖音电商治理、推荐、客服等核心业务的运营工具平台建设，深入挖掘业务需求，提升业务运营的效率；效率工具通过对在线和离线业务各环节提供后台工具和自动化支持来提高整体效率，节省人力成本。


1、负责字节电商核心中台业务系统研发工作，包括抖音电商比价、商品、品牌等数据中台系统前后端架构设计、开发与优化，覆盖 Web 应用，数据可视化，以及业务策略等多个方向； 
2、负责整体研发工具体系规划、设计和搭建，深入参与算法和策略迭代，提效算法团队研发效率； 
3、关注前沿技术，并应用在项目中，不断推进架构、性能、使用效果优化。

> 职位要求

1、计算机相关专业统招本科或硕士及以上学历； 
2、出色的代码能力，扎实的计算机基础知识，熟悉常用数据结构和算法，并且可以灵活应用于日常研发中； 
3、熟悉 Web 开发技术，包括 HTML/CSS/JavaScript 等，或者熟悉 Go/Java/Python/C++ 等其中一门开发语言； 
4、有开源作品或者技术博客者优先。



#### 面经

> 07-11 一面 1H

1. 项目介绍 半小时
2. B端和C端开发的侧重点有哪些，B端难点是什么
3. 算法（一个字符串S，一个字符串T，从S中找出包含T的最短子串，不要子串中的字母顺序和T中字母顺序相同），leetcode 76. 最小覆盖子串，https://leetcode.cn/problems/minimum-window-substring/
4. Hive 写入一条数据的过程
5. HBase 写入一条数据的过程（大体同SQL，支持有个分布式表的区分）
6. MQ 如何保证消息不丢失
7. RocketMQ 写入消息是异步还是同步的

> 07-15 二面 1.5H
1. 项目 
   * 项目介绍，包括选品的架构选型，素材组的请求流程  40min
   * 结合项目，问技术 30min
2. 算法题：生产者消费者模型下，实现一个阻塞任务队列（可以使用synchronized，也可以使用信号量）
3. 面试官介绍他们做的东西，计算广告引擎和 Sprak 机器学习，Flink 实时数据流


（二面面评很好，S级）

> 07-18 二面 1.5H
1. 项目介绍 1H
2. 算法题：最大拼接数（题目描述如下，思路为对数字排序，自定义排序，对于两个数，按照排序后的大小排序）

```s
正整数数组，nums =[a0,a1,....an-1]
把a0.....an-1 拼接在一起（任意顺序），求拼接的最大值
例如 nums = [43, 9,80, 81, 434, 432], max = 9818043443432
```


## 2022-07-求职结果汇总

1. 拼多多多-多多买菜-供应链
2. 字节-电商平台-Ticktock
3. 阿里-本地生活
4. 银联数据（国企）
5. 阅文
6. 上交所（国企）

### 1.拼多多-多多买菜-供应链
1. Java技术栈
2. 多多买菜项目的核心项目，内部优秀项目，明年加薪很多


### 2.字节-电商平台-Ticktock
1. 电商平台，提供一些基础服务，如全网比价，商品排序
2. 可能要 Go 技术栈，Spark，Flink这些
3. 公积金 12%，每个月房补 1K
4. 电商平台，每年可以退个人所得税的17%

![](https://image-bed-20181207-1257458714.cos.ap-shanghai.myqcloud.com/back-end-2023/byte-dance-mall-1.jpeg)


### 3.阿里-本地生活

1. Java 技术栈



### 4.银联数据

1. 每月餐贴 00元
2. 补充公积金 + 5%
3.  补充医疗 + 5%
4.  养老8% + 医疗2% + 失业0.5% + 公积金7% = 17.5%
5.  企业年金 （个人 2~4% + 公司 8%）
6.  节假日慰问金（一年几千块钱）

### 5.阅文
1. 公积金 12%

### 6.上交所
